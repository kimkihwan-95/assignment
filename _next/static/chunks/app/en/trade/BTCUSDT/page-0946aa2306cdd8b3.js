(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[89],{9968:(e,s,t)=>{Promise.resolve().then(t.bind(t,3948)),Promise.resolve().then(t.bind(t,2010)),Promise.resolve().then(t.bind(t,1448)),Promise.resolve().then(t.bind(t,7759))},3948:(e,s,t)=>{"use strict";t.d(s,{default:()=>d});var l=t(5155),a=t(2115),n=t(5337),r=t(2651),i=t(8629);let c=[{label:"1 s",value:"1s"},{label:"1 M",value:"1m"},{label:"1 H",value:"1h"},{label:"1 Day",value:"1d"},{label:"1 Week",value:"1w"},{label:"1 Month",value:"1M"}],o=async e=>(await r.A.get("https://api.binance.com/api/v3/klines",{params:{symbol:"BTCUSDT",interval:e,limit:100}})).data.map(e=>({timestamp:e[0],open:parseFloat(e[1]),high:parseFloat(e[2]),low:parseFloat(e[3]),close:parseFloat(e[4]),volume:parseFloat(e[5])}));function d(){let e=(0,a.useRef)(null),[s,t]=(0,a.useState)("1s"),{data:r,isLoading:d}=(0,i.I)({queryKey:["klineData",s],queryFn:()=>o(s),refetchOnWindowFocus:!1,staleTime:6e4});return(0,a.useEffect)(()=>{let s=(0,n.Ts)("chart");e.current=s,r&&(s.applyNewData(r),s.createIndicator("MA",!1));let t=new WebSocket("wss://stream.binance.com:9443/ws/btcusdt@kline_1m");return t.onmessage=e=>{let t=JSON.parse(e.data).k,l={timestamp:t.t,open:parseFloat(t.o),high:parseFloat(t.h),low:parseFloat(t.l),close:parseFloat(t.c),volume:parseFloat(t.v)};s.updateData(l)},()=>{(0,n.AS)("chart"),t.close()}},[r]),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"mb-5 flex justify-center space-x-4",children:c.map(e=>(0,l.jsx)("button",{className:"px-4 py-2 ".concat(s===e.value?" text-white":"text-gray-500"),onClick:()=>t(e.value),children:e.label},e.value))}),(0,l.jsx)("div",{id:"chart",className:"w-[800px] h-[500px]"})]})}},2010:(e,s,t)=>{"use strict";t.d(s,{default:()=>c});var l=t(5155),a=t(8629),n=t(9097),r=t(2115);async function i(){let e=await fetch("https://api.binance.com/api/v3/depth?symbol=BTCUSDT&limit=20"),s=await e.json();return{bids:s.bids.map(e=>{let[s,t]=e;return{price:parseFloat(s),quantity:parseFloat(t)}}),asks:s.asks.map(e=>{let[s,t]=e;return{price:parseFloat(s),quantity:parseFloat(t)}})}}function c(){let{data:e,isLoading:s}=(0,a.I)({queryKey:["orderBook"],queryFn:i,refetchInterval:1e3}),t=(0,n.A)(e=>e.setSelectedPrice),c=(0,n.A)(e=>e.viewMode),o=(0,n.A)(e=>e.setViewMode),[d,u]=(0,r.useState)(null),[x,p]=(0,r.useState)(null);(0,r.useEffect)(()=>{if((null==e?void 0:e.bids)&&(null==e?void 0:e.asks)){let s=e.bids[0].price,t=e.asks[0].price;p(d),u((s+t)/2)}},[e]);let m=e=>{t(e)};return s?(0,l.jsx)("div",{children:"Loading..."}):(0,l.jsxs)("div",{className:"flex flex-col p-4 overflow-hidden w-[300px] h-[600px]",children:[(0,l.jsxs)("div",{className:"mb-4 flex gap-3",children:[(0,l.jsx)("button",{onClick:()=>o("both"),className:"px-4 py-2 bg-gradient-to-r from-green-500 to-red-500 rounded w-[20px]"}),(0,l.jsx)("button",{onClick:()=>o("bids"),className:"px-4 py-2 bg-green-500 rounded w-[20px]"}),(0,l.jsx)("button",{onClick:()=>o("asks"),className:"px-4 py-2 bg-red-500 rounded w-[20px]"})]}),(0,l.jsx)("div",{className:"mb-4 flex justify-between items-center text-lg font-bold",children:null!==d&&(0,l.jsxs)("span",{className:"flex items-center ".concat(d>(x||0)?"text-green-500":d<(x||0)?"text-red-500":"text-gray-500"),children:[d.toFixed(2)," ",d>(x||0)&&(0,l.jsx)("span",{className:"ml-1",children:"↑"}),d<(x||0)&&(0,l.jsx)("span",{className:"ml-1",children:"↓"})]})}),(0,l.jsxs)("div",{className:"grid grid-cols-3 gap-2 mb-2 text-center font-bold text-gray-500 text-sm",children:[(0,l.jsx)("div",{children:"Price"}),(0,l.jsx)("div",{children:"Amount"}),(0,l.jsx)("div",{children:"Total"})]}),(0,l.jsx)("div",{className:"h-[400px] overflow-auto",children:(0,l.jsxs)("ul",{className:"space-y-1",children:[("both"===c||"bids"===c)&&(null==e?void 0:e.bids.map((e,s)=>(0,l.jsxs)("li",{className:"grid grid-cols-3 gap-2 py-1 text-xs cursor-pointer",onClick:()=>m(e.price),children:[(0,l.jsx)("span",{className:"text-green-500 text-center",children:e.price.toFixed(2)}),(0,l.jsx)("span",{className:"text-center",children:e.quantity.toFixed(4)}),(0,l.jsx)("span",{className:"text-center",children:(e.price*e.quantity).toFixed(2)})]},s))),("both"===c||"asks"===c)&&(null==e?void 0:e.asks.map((e,s)=>(0,l.jsxs)("li",{className:"grid grid-cols-3 gap-2 py-1 text-xs cursor-pointer",onClick:()=>m(e.price),children:[(0,l.jsx)("span",{className:"text-red-500 text-center",children:e.price.toFixed(2)}),(0,l.jsx)("span",{className:"text-center",children:e.quantity.toFixed(4)}),(0,l.jsx)("span",{className:"text-center",children:(e.price*e.quantity).toFixed(2)})]},s)))]})})]})}},1448:(e,s,t)=>{"use strict";t.d(s,{default:()=>r});var l=t(5155),a=t(2115),n=t(9097);function r(){let e=(0,n.A)(e=>e.selectedPrice),[s,t]=(0,a.useState)(e||""),[r,i]=(0,a.useState)(""),[c,o]=(0,a.useState)(e||""),[d,u]=(0,a.useState)("");return(0,a.useEffect)(()=>{e&&(t(e),o(e))},[e]),(0,l.jsxs)("div",{className:"flex gap-2 p-4 h-[300px] w-[800px]",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h2",{className:"text-lg font-bold text-green-500 mb-4",children:"Buy"}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-white",children:"Price"}),(0,l.jsx)("input",{type:"number",value:s,onChange:e=>t(e.target.value),className:"w-full px-4 py-2 border rounded focus:outline-none focus:ring focus:ring-green-200 text-gray-700",placeholder:"Enter price"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-white",children:"Amount"}),(0,l.jsx)("input",{type:"number",value:r,onChange:e=>i(e.target.value),className:"w-full px-4 py-2 border rounded focus:outline-none focus:ring focus:ring-green-200 text-gray-700",placeholder:"Enter amount"})]})]}),(0,l.jsx)("button",{className:"w-full py-3 mt-4 text-white bg-green-500 rounded hover:bg-green-600",children:"Buy"})]}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h2",{className:"text-lg font-bold text-red-500 mb-4",children:"Sell"}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-white",children:"Price"}),(0,l.jsx)("input",{type:"number",value:c,onChange:e=>o(e.target.value),className:"w-full px-4 py-2 border rounded focus:outline-none focus:ring focus:ring-red-200 text-gray-700",placeholder:"Enter price"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-white",children:"Amount"}),(0,l.jsx)("input",{type:"number",value:d,onChange:e=>u(e.target.value),className:"w-full px-4 py-2 border rounded focus:outline-none focus:ring focus:ring-red-200 text-gray-700",placeholder:"Enter amount"})]})]}),(0,l.jsx)("button",{className:"w-full py-3 mt-4 text-white bg-red-500 rounded hover:bg-red-600 ",children:"Sell"})]})]})}},7759:(e,s,t)=>{"use strict";t.d(s,{default:()=>i});var l=t(5155),a=t(8629),n=t(2115);async function r(){let e=await fetch("https://api.binance.com/api/v3/exchangeInfo");return(await e.json()).symbols.map(e=>({symbol:e.symbol,baseAsset:e.baseAsset,quoteAsset:e.quoteAsset}))}function i(){let{data:e,isLoading:s}=(0,a.I)({queryKey:["coins"],queryFn:r,staleTime:3e5}),[t,i]=(0,n.useState)("");if(s)return(0,l.jsx)("div",{className:"flex items-center justify-center",children:"Loading..."});let c=null==e?void 0:e.filter(e=>e.symbol.toLowerCase().includes(t.toLowerCase()));return(0,l.jsxs)("div",{className:"flex flex-col p-4 w-[400px] h-[500px] mt-10 shadow-md text-gray-500",children:[(0,l.jsx)("div",{className:"mb-4",children:(0,l.jsx)("input",{type:"text",placeholder:"Search",value:t,onChange:e=>i(e.target.value),className:"w-full px-4 py-2 border rounded focus:outline-none"})}),(0,l.jsx)("div",{className:"flex-1 overflow-auto",children:(0,l.jsxs)("ul",{className:"space-y-2",children:[null==c?void 0:c.map(e=>(0,l.jsx)("li",{className:"flex justify-between items-center p-2 border-b",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{children:e.baseAsset})," /"," ",e.quoteAsset]})},e.symbol)),(null==c?void 0:c.length)===0&&(0,l.jsx)("div",{className:"text-center py-4",children:"No coins found"})]})})]})}},9097:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});let l=(0,t(9827).v)(e=>({selectedPrice:null,setSelectedPrice:s=>e({selectedPrice:s}),viewMode:"both",setViewMode:s=>e({viewMode:s})}))}},e=>{var s=s=>e(e.s=s);e.O(0,[270,527,173,441,517,358],()=>s(9968)),_N_E=e.O()}]);